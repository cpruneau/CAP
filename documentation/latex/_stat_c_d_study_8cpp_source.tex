\hypertarget{_stat_c_d_study_8cpp_source}{}\doxysection{Stat\+CDStudy.\+cpp}
\label{_stat_c_d_study_8cpp_source}\index{StatStudies/StatCDStudy.cpp@{StatStudies/StatCDStudy.cpp}}
\mbox{\hyperlink{_stat_c_d_study_8cpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00001}00001 \textcolor{preprocessor}{\#include "{}TString.h"{}}}
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00002}00002 \textcolor{preprocessor}{\#include "{}TRandom.h"{}}}
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00003}00003 \textcolor{preprocessor}{\#include "{}TSystem.h"{}}}
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00004}00004 \textcolor{preprocessor}{\#include "{}../Base/StatStudyHistograms.hpp"{}}}
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00005}00005 \textcolor{preprocessor}{\#include "{}../Base/StatStudyModel.hpp"{}}}
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00006}00006 }
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00007}00007 \textcolor{comment}{//R\_\_LOAD\_LIBRARY(/Users/claudeapruneau/opt/WAC/lib/libBase.dylib)}}
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00008}00008 }
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00009}00009 }
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00010}\mbox{\hyperlink{_stat_c_d_study_8cpp_af83fa2d876302fb888c045439049ffb3}{00010}} \textcolor{keywordtype}{int} \mbox{\hyperlink{_stat_c_d_study_8cpp_af83fa2d876302fb888c045439049ffb3}{StatCDStudy}}()}
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00011}00011 \{}
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00012}00012   TString includesPath = \textcolor{stringliteral}{"{}/Users/claudeapruneau/Documents/GitHub/WAC/Base/"{}};}
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00013}00013   gSystem-\/>Load(includesPath+\textcolor{stringliteral}{"{}CanvasConfiguration.hpp"{}});}
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00014}00014   gSystem-\/>Load(includesPath+\textcolor{stringliteral}{"{}GraphConfiguration.hpp"{}});}
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00015}00015   gSystem-\/>Load(includesPath+\textcolor{stringliteral}{"{}MessageLogger.hpp"{}});}
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00016}00016 \textcolor{comment}{//  gSystem-\/>Load(includesPath+"{}StatStudyHistograms.hpp"{});}}
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00017}00017 \textcolor{comment}{//  gSystem-\/>Load(includesPath+"{}StatStudyModel.hpp"{});}}
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00018}00018   \textcolor{comment}{//gSystem-\/>Load("{}libBase.dylib"{});}}
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00019}00019   gSystem-\/>Load(\textcolor{stringliteral}{"{}/Users/claudeapruneau/Documents/GitHub/WAC/lib/libBase.dylib"{}});}
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00020}00020 }
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00021}00021   TString \mbox{\hyperlink{_closure_test_8cpp_a8e151543ace9cc9b23469a507dfbf503}{inputPath}}      = \textcolor{stringliteral}{"{}/Users/claudeapruneau/Documents/GitHub/run/StatStudy/"{}};}
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00022}00022   TString \mbox{\hyperlink{_closure_test_8cpp_a9a8178cf87264ac75ba4fdce8656b5a6}{outputPath}}     = \textcolor{stringliteral}{"{}/Users/claudeapruneau/Documents/GitHub/run/StatStudy/"{}};}
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00023}00023   TString studyName      = \textcolor{stringliteral}{"{}StatStudySet"{}};}
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00024}00024   \textcolor{keywordtype}{int} nSubSamples        = 1000;}
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00025}00025   \textcolor{keywordtype}{int} nModels            = 5;}
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00026}00026 }
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00027}00027   \mbox{\hyperlink{class_stat_study_histograms}{StatStudyHistograms}} ** statStudy = \textcolor{keyword}{new} \mbox{\hyperlink{class_stat_study_histograms}{StatStudyHistograms}}*[nModels];}
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00028}00028   \mbox{\hyperlink{class_stat_study_model}{StatStudyModel}}      ** model     = \textcolor{keyword}{new} \mbox{\hyperlink{class_stat_study_model}{StatStudyModel}}*[nModels];}
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00029}00029 }
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00030}00030   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} iModel=0;iModel<nModels;iModel++)}
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00031}00031     \{}
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00032}00032     statStudy[iModel] = \textcolor{keyword}{new} \mbox{\hyperlink{class_stat_study_histograms}{StatStudyHistograms}}(nSubSamples, studyName+iModel,\mbox{\hyperlink{class_message_logger_a1198794cb23cd903dcbc0072929a276aa22438423e9929c14bd13547c6595be73}{MessageLogger::Info}});}
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00033}00033     \}}
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00034}00034 }
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00035}00035   model[0] = \textcolor{keyword}{new} \mbox{\hyperlink{class_stat_study_model}{StatStudyModel}}(100, 100, 20, 60, 20, 0.87, 0.85, 1000);}
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00036}00036   model[1] = \textcolor{keyword}{new} \mbox{\hyperlink{class_stat_study_model}{StatStudyModel}}(100, 100, 20, 60, 20, 0.87, 0.85, 10000);}
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00037}00037   model[2] = \textcolor{keyword}{new} \mbox{\hyperlink{class_stat_study_model}{StatStudyModel}}(100, 100, 20, 60, 20, 0.87, 0.85, 100000);}
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00038}00038   model[3] = \textcolor{keyword}{new} \mbox{\hyperlink{class_stat_study_model}{StatStudyModel}}(50,  50,  10, 30, 10, 0.87, 0.85, 100000);}
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00039}00039   model[4] = \textcolor{keyword}{new} \mbox{\hyperlink{class_stat_study_model}{StatStudyModel}}(10,  10,  2,  6,  2, 0.87, 0.85,  100000);}
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00040}00040 }
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00041}00041   \textcolor{keywordtype}{double} nPlus;}
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00042}00042   \textcolor{keywordtype}{double} nMinus;}
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00043}00043   \textcolor{keywordtype}{double} nPlusEff;}
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00044}00044   \textcolor{keywordtype}{double} nMinusEff;}
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00045}00045 }
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00046}00046   \textcolor{keywordtype}{double} sub = 0.5;}
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00047}00047   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{double} iSub=0; iSub<nSubSamples; iSub++)}
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00048}00048     \{}
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00049}00049     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} iModel=0; iModel<nModels; iModel++)}
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00050}00050       \{}
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00051}00051        \textcolor{keywordflow}{for} (\textcolor{keywordtype}{long} iEvent = 0; iEvent<model[iModel]-\/>\mbox{\hyperlink{class_stat_study_model_ac90b134ca8b246a61da80c0d46bc584b}{nEvents}}; iEvent++)}
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00052}00052             \{}
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00053}00053             model[iModel]-\/>\mbox{\hyperlink{class_stat_study_model_ae9f8df0d31adbb7cb35305872bc2b93e}{generate}}(nPlus,nMinus,nPlusEff,nMinusEff);}
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00054}00054             statStudy[iModel]-\/>\mbox{\hyperlink{class_stat_study_histograms_a7d9971898b9365b54ea2ed8aad67a807}{fill}}(sub, nPlus, nMinus, nPlusEff, nMinusEff);}
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00055}00055             \}}
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00056}00056       \}}
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00057}00057     sub += 1.0;}
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00058}00058     \}}
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00059}00059 }
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00060}00060   TFile * outputFile;}
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00061}00061   TString outputFileNameBase = \mbox{\hyperlink{_closure_test_8cpp_a9a8178cf87264ac75ba4fdce8656b5a6}{outputPath}}+studyName;}
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00062}00062   TString \mbox{\hyperlink{_closure_test_8cpp_a3eee5431d54ff7fe47478c7587682a3f}{outputFileName}};}
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00063}00063   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} iModel=0;iModel<nModels;iModel++)}
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00064}00064      \{}
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00065}00065      \textcolor{keywordtype}{double} scalingFactor1 = 1.0/double(model[iModel]-\/>nEvents*nSubSamples);}
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00066}00066      \textcolor{keywordtype}{double} scalingFactor2 = 1.0/double(nSubSamples);}
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00067}00067 }
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00068}00068      statStudy[iModel]-\/>\mbox{\hyperlink{class_stat_study_histograms_a4bc36e608135612b7a809576bbd25387}{computeDerivedHistograms}}();}
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00069}00069      statStudy[iModel]-\/>\mbox{\hyperlink{class_stat_study_histograms_a4b7c5476d6453b07cb610b4ca03670da}{scaleHistograms}}(scalingFactor1,scalingFactor2);}
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00070}00070      \mbox{\hyperlink{_closure_test_8cpp_a3eee5431d54ff7fe47478c7587682a3f}{outputFileName}} = outputFileNameBase;}
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00071}00071      \mbox{\hyperlink{_closure_test_8cpp_a3eee5431d54ff7fe47478c7587682a3f}{outputFileName}} += iModel;}
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00072}00072      \mbox{\hyperlink{_closure_test_8cpp_a3eee5431d54ff7fe47478c7587682a3f}{outputFileName}} += \textcolor{stringliteral}{"{}.root"{}};}
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00073}00073      outputFile = \textcolor{keyword}{new} TFile(\mbox{\hyperlink{_closure_test_8cpp_a3eee5431d54ff7fe47478c7587682a3f}{outputFileName}},\textcolor{stringliteral}{"{}RECREATE"{}});}
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00074}00074      statStudy[iModel]-\/>\mbox{\hyperlink{class_stat_study_histograms_a99e024ece153e2c2a6ede4ef17d40565}{saveHistograms}}(outputFile);}
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00075}00075      outputFile-\/>Close();}
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00076}00076      \}}
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00077}00077   \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{_stat_c_d_study_8cpp_source_l00078}00078 \}}

\end{DoxyCode}
